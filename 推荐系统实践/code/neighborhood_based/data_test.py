#!/usr/bin/python
# -*- coding: utf-8 -*-
import multiprocessing
import os


def comfirm_data(data, user1, user2):
    item1 = [d['item'] for d in data if d['user'] == user1]
    item2 = [d['item'] for d in data if d['user'] == user2]
    intersection = list(set(item1).intersection(set(item2)))
    print len(intersection)


if __name__ == "__main__":
    print "test"
    # path = os.path.abspath('.') + '/data/ml-100k/u.data'
    # lines = []
    # file = open(path)
    # lines = file.readlines()
    # file.close()
    # data = []
    # for line in lines:
    #     line = line.replace('\n', '')
    #     meta_data = dict()
    #     values = line.split('\t')
    #     # noinspection PyBroadException
    #     try:
    #         meta_data['user'] = values[0]
    #         meta_data['item'] = values[1]
    #         meta_data['rating'] = values[2]
    #         meta_data['timestamp'] = values[3]
    #         data.append(meta_data)
    #     except:
    #         continue
    # comfirm_data(data, '1', '199')
    # comfirm_data(data, '1', '452')
    # comfirm_data(data, '100', '199')
    like = set(['1142', '216', '215', '213', '210', '762', '663', '764', '660', '132', '137', '494', '496', '25', '26', '696', '694', '405', '546', '4', '281', '8', '285', '284', '286', '678', '716', '713', '121', '122', '124', '125', '127', '129', '269', '268', '1020', '1082', '58', '50', '537', '535', '298', '530', '297', '195', '295', '926', '291', '319', '708', '198', '313', '311', '196', '191', '190', '315', '272', '202', '274', '275', '276', '69', '278', '83', '119', '87', '204', '928', '174', '7', '421', '367', '529', '301', '303', '304', '306', '244', '246', '385', '100', '1014', '106', '248', '39', '372', '22', '290', '647', '511', '433', '431', '588', '459', '451', '628', '258', '64', '117', '1137', '176', '175', '251', '172', '255', '972', '316', '183', '181', '508', '509', '568', '751', '707', '273', '756', '562', '463', '462', '98', '169', '228', '95', '222', '97', '96', '11', '13', '12', '14', '19', '88', '815', '709', '89', '408', '151', '1165', '742', '559', '235', '237', '1050', '86', '45', '955', '118', '322', '5', '9', '203', '619', '1172', '896', '148', '73', '70', '486', '79', '1283', '1048', '357', '473', '1', '477', '684', '478', '479'])
    popu = set(['345', '346', '347', '340', '343', '815', '717', '715', '713', '710', '606', '619', '298', '299', '294', '295', '292', '293', '290', '291', '591', '199', '198', '597', '596', '195', '194', '197', '196', '191', '190', '193', '192', '270', '271', '272', '273', '274', '275', '276', '277', '525', '526', '527', '520', '521', '523', '1014', '1016', '528', '1011', '1012', '449', '448', '443', '447', '108', '109', '100', '101', '106', '105', '39', '38', '33', '32', '31', '640', '642', '647', '436', '648', '435', '432', '433', '430', '431', '338', '331', '333', '332', '744', '855', '99', '98', '91', '90', '93', '92', '95', '94', '97', '96', '742', '559', '558', '746', '747', '748', '554', '550', '553', '238', '239', '234', '235', '237', '230', '231', '232', '233', '1', '147', '144', '145', '143', '141', '616', '148', '949', '689', '685', '684', '687', '682', '133', '132', '131', '137', '136', '135', '134', '496', '497', '24', '25', '26', '20', '21', '22', '23', '28', '29', '405', '404', '403', '402', '401', '930', '452', '409', '408', '378', '825', '826', '820', '823', '708', '709', '705', '707', '393', '392', '88', '89', '82', '83', '399', '81', '86', '87', '792', '790', '7', '607', '584', '582', '588', '245', '246', '241', '240', '243', '242', '249', '248', '924', '519', '518', '511', '510', '513', '515', '514', '517', '458', '627', '625', '451', '629', '628', '455', '179', '178', '177', '176', '175', '174', '173', '172', '170', '183', '180', '182', '657', '654', '2', '186', '187', '184', '185', '652', '188', '189', '658', '659', '650', '651', '11', '10', '13', '12', '15', '14', '17', '19', '864', '866', '62', '322', '323', '321', '326', '327', '324', '325', '328', '201', '200', '203', '202', '205', '204', '207', '209', '208', '778', '77', '73', '72', '71', '70', '655', '79', '1047', '1048', '665', '663', '662', '661', '660', '692', '693', '690', '696', '699', '546', '544', '8', '549', '120', '121', '122', '123', '124', '125', '126', '127', '128', '129', '529', '928', '417', '410', '411', '412', '498', '418', '419', '926', '319', '318', '313', '312', '311', '310', '317', '316', '315', '831', '3', '367', '380', '381', '382', '385', '386', '780', '781', '578', '604', '576', '258', '259', '64', '65', '66', '67', '68', '69', '250', '257', '255', '603', '732', '735', '508', '509', '739', '507', '504', '505', '501', '631', '633', '469', '468', '636', '465', '461', '463', '462', '168', '169', '164', '167', '160', '161', '162', '163', '969', '1101', '934', '879', '873', '871', '9', '895', '357', '356', '354', '358', '216', '217', '214', '215', '212', '213', '210', '211', '762', '763', '218', '219', '1074', '1073', '289', '288', '4', '281', '280', '283', '282', '285', '284', '287', '286', '678', '679', '676', '673', '260', '265', '264', '269', '268', '59', '58', '55', '54', '56', '51', '50', '53', '52', '63', '531', '530', '988', '252', '117', '116', '111', '118', '429', '428', '919', '421', '420', '423', '425', '427', '300', '301', '302', '303', '304', '305', '306', '307', '371', '181', '845', '1039', '568', '569', '751', '750', '756', '755', '736', '566', '506', '229', '228', '227', '226', '225', '223', '222', '221', '114', '1028', '724', '720', '729', '151', '150', '153', '152', '155', '154', '157', '156', '159', '80', '48', '49', '47', '44', '45', '42', '5', '487', '486', '485', '484', '483', '482', '480', '472', '473', '470', '471', '476', '477', '474', '475', '478', '479'])
    ret = set(['345', '346', '347', '340', '343', '717', '715', '710', '606', '299', '294', '292', '293', '591', '199', '597', '596', '194', '197', '193', '192', '270', '271', '277', '525', '526', '527', '520', '521', '523', '1016', '528', '1011', '1012', '449', '448', '443', '447', '108', '109', '101', '105', '38', '33', '32', '31', '640', '642', '436', '648', '435', '432', '430', '338', '331', '333', '332', '855', '99', '91', '90', '93', '92', '94', '744', '558', '746', '747', '748', '554', '550', '553', '238', '239', '234', '230', '231', '232', '233', '147', '144', '145', '143', '141', '616', '949', '689', '685', '687', '682', '133', '131', '498', '136', '135', '134', '497', '24', '20', '21', '23', '28', '29', '404', '403', '402', '401', '930', '629', '409', '934', '378', '825', '826', '820', '823', '705', '393', '392', '82', '399', '81', '792', '790', '607', '584', '582', '245', '241', '240', '243', '242', '249', '418', '519', '518', '510', '513', '515', '514', '517', '458', '627', '625', '452', '455', '179', '178', '177', '173', '170', '654', '182', '657', '180', '2', '186', '187', '650', '651', '652', '188', '189', '658', '659', '184', '185', '10', '15', '17', '864', '866', '323', '321', '326', '327', '324', '325', '328', '201', '200', '205', '207', '209', '208', '778', '77', '72', '71', '655', '1047', '665', '662', '661', '692', '693', '690', '699', '544', '549', '120', '123', '126', '128', '417', '410', '411', '412', '924', '419', '318', '312', '310', '317', '831', '3', '380', '381', '382', '386', '780', '781', '578', '150', '576', '62', '259', '65', '66', '67', '68', '250', '257', '157', '732', '735', '736', '739', '507', '504', '505', '501', '631', '633', '469', '468', '636', '465', '461', '168', '164', '167', '160', '161', '162', '163', '969', '1101', '879', '873', '871', '895', '356', '354', '358', '217', '214', '212', '211', '763', '218', '219', '1074', '1073', '289', '288', '280', '283', '282', '287', '679', '676', '673', '260', '265', '264', '59', '55', '54', '56', '51', '53', '52', '63', '531', '988', '252', '116', '111', '429', '428', '919', '420', '423', '425', '427', '300', '302', '305', '307', '371', '845', '1039', '569', '750', '755', '566', '506', '229', '227', '226', '225', '223', '221', '114', '1028', '724', '720', '729', '604', '153', '152', '155', '154', '603', '156', '159', '80', '48', '49', '47', '44', '42', '487', '485', '484', '483', '482', '480', '472', '470', '471', '476', '474', '475'])
    ret1 = set(['345', '346', '347', '340', '343', '717', '715', '710', '299', '294', '292', '293', '591', '199', '597', '596', '194', '197', '193', '192', '270', '271', '277', '525', '526', '527', '520', '521', '523', '1016', '528', '1011', '1012', '449', '448', '443', '447', '108', '109', '101', '105', '38', '33', '32', '31', '640', '642', '436', '648', '435', '432', '430', '338', '331', '333', '332', '855', '99', '91', '90', '93', '92', '94', '744', '558', '746', '747', '748', '554', '550', '553', '238', '239', '234', '230', '231', '232', '233', '147', '144', '145', '143', '141', '616', '949', '689', '685', '687', '682', '133', '131', '498', '136', '135', '134', '497', '24', '20', '21', '23', '28', '29', '404', '403', '402', '401', '930', '629', '409', '934', '378', '825', '826', '820', '823', '705', '393', '392', '82', '399', '81', '792', '790', '584', '582', '245', '241', '240', '243', '242', '249', '418', '519', '518', '510', '513', '515', '514', '517', '458', '627', '625', '452', '455', '179', '178', '177', '173', '170', '654', '182', '657', '180', '2', '186', '187', '184', '185', '652', '188', '189', '658', '659', '650', '651', '10', '15', '17', '864', '866', '63', '323', '321', '326', '327', '324', '325', '328', '201', '200', '205', '207', '209', '208', '778', '77', '72', '71', '655', '1047', '665', '662', '661', '692', '693', '690', '699', '544', '549', '120', '123', '126', '128', '417', '410', '411', '412', '924', '419', '318', '312', '310', '317', '831', '3', '380', '381', '382', '386', '780', '781', '578', '150', '153', '62', '606', '65', '66', '67', '252', '250', '257', '157', '732', '735', '736', '739', '507', '504', '505', '501', '631', '633', '469', '468', '636', '465', '461', '168', '164', '167', '160', '161', '162', '163', '969', '1101', '879', '873', '871', '895', '576', '356', '354', '358', '217', '214', '212', '211', '763', '218', '219', '1074', '1073', '289', '288', '280', '283', '282', '287', '679', '676', '673', '260', '265', '264', '59', '55', '54', '56', '51', '53', '52', '259', '531', '988', '68', '116', '111', '429', '428', '919', '420', '423', '425', '427', '300', '302', '305', '307', '371', '845', '1039', '569', '750', '755', '566', '506', '229', '227', '226', '225', '223', '221', '114', '1028', '724', '720', '729', '604', '607', '152', '155', '154', '603', '156', '159', '80', '48', '49', '47', '44', '42', '487', '485', '484', '483', '482', '480', '472', '470', '471', '476', '474', '475'])
    for r in ret:
        if r not in ret1:
            print "xxxxxxxx"
    # print popu.difference(like.intersection(popu))